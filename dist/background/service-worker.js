console.log(`%c Nuo Redmine Helper %c Copyright Â© 2010-%s
 `,'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:24px;color:#FD6E0E;-webkit-text-fill-color:#FD6E0E;-webkit-text-stroke: 1px #FD6E0E;',"font-size:12px;color:#999999;",new Date().getFullYear());chrome.management.getSelf(o=>{if(o.installType==="development"){const a=["http://127.0.0.1:5501/dist/manifest.json","http://127.0.0.1:5501/dist/options/options.js","http://127.0.0.1:5501/dist/background/service-worker.js","http://127.0.0.1:5501/dist/content/content.js"],t={},n=()=>{chrome.tabs.query({active:!0,currentWindow:!0},e=>{e[0]&&chrome.tabs.reload(e[0].id),chrome.runtime.reload()})},s=()=>{a.forEach(e=>{fetch(e).then(r=>r.text()).then(r=>{t[e]&&t[e]!==r?n():t[e]=r}).catch(r=>{console.error("Error checking folder changes:",r)})})},c="LISTENER_FILE_TEXT_CHANGE";(async()=>{typeof await chrome.alarms.get(c)>"u"&&(chrome.alarms.create(c,{periodInMinutes:.1}),s())})(),chrome.alarms.onAlarm.addListener(s)}});chrome.tabs.onActivated.addListener(async o=>{const a=await chrome.storage.local.get("settings")||{};chrome.tabs.sendMessage(o.tabId,a.settings)});chrome.action.onClicked.addListener(async()=>{const o=await chrome.storage.local.get("settings")||{},{url:a,path:t}=o.settings||{};if(a){const[n]=a.split(","),s=n.replace(/\/$/,""),c=t?t.indexOf("/")===-1?"/"+t:t:"/my/page",i=new URL(c,s).href,e=await chrome.tabs.query({url:[`${s}/*`]});e.length>0?chrome.tabs.update(e[0].id,{active:!0,url:i}):chrome.tabs.create({url:i})}});
